{{define "messageform"}}
<form method="post" action="/message" id="messageform" class="mt-2">
    <label class="form-control">
      <input type="text" placeholder="Messages" class="input input-bordered" id="message_input" name="message"/>
    </label>
</form>
<script>
  window.onload = function() {
      document.getElementById('message_input').focus();
  };

  document.getElementById('messageform').addEventListener('submit', function(event) {
    // Prevent the default form submission
    event.preventDefault();
    var message = document.getElementById('message_input');
    if(message.value == ""){
      return
    }
    try {
      ws.send(message.value);
      message.value = "";
    } catch (error) {
      console.error('Error while sending WebSocket message:', error);
    }

});
</script>
{{end}}
